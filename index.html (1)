<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alord Hosting â€” Ù…Ù†ØµØ© Ø§Ù„Ø§Ø³ØªØ¶Ø§ÙØ©</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&family=Share+Tech+Mono&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.2/full/pyodide.js"></script>
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ALORD HOSTING â€” Ù…Ù„Ù ÙˆØ§Ø­Ø¯ ÙƒØ§Ù…Ù„
   Developed by ã€ | ğ˜¼ğ™¡ğ™¤ğ™§ğ™™ ğ™•ğ™–ğ™®ğ™§ğ™¤ ğŸ–¤ | ã€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root {
  --cyan:    #00f5ff;
  --purple:  #bf00ff;
  --green:   #00ff88;
  --red:     #ff3366;
  --yellow:  #ffcc00;
  --bg:      #060810;
  --panel:   #0a0d1a;
  --card:    #0d1020;
  --border:  rgba(0,245,255,0.12);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; overflow-x: hidden; }

body {
  background: var(--bg);
  color: #c8e8f0;
  font-family: 'Tajawal', sans-serif;
  min-height: 100vh;
  direction: rtl;
}

/* Ø®Ù„ÙÙŠØ© Ø´Ø¨ÙƒÙŠØ© */
body::before {
  content: '';
  position: fixed; inset: 0;
  background-image:
    linear-gradient(rgba(0,245,255,0.025) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,245,255,0.025) 1px, transparent 1px);
  background-size: 48px 48px;
  pointer-events: none; z-index: 0;
}

/* Ø®Ø· Ø§Ù„Ù…Ø³Ø­ */
.scan {
  position: fixed; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--cyan), transparent);
  opacity: 0.25; pointer-events: none; z-index: 999;
  animation: scanMove 9s linear infinite;
}
@keyframes scanMove { 0%{top:-2px} 100%{top:100vh} }

/* Ø¯ÙˆØ§Ø¦Ø± Ø¶ÙˆØ¦ÙŠØ© */
.orb {
  position: fixed; border-radius: 50%;
  filter: blur(90px); pointer-events: none; z-index: 0;
  animation: orbFloat 10s ease-in-out infinite;
}
.orb1 { width:500px;height:500px;background:rgba(0,245,255,0.05);top:-150px;right:-150px; }
.orb2 { width:400px;height:400px;background:rgba(191,0,255,0.05);bottom:-100px;left:-100px;animation-delay:5s; }
@keyframes orbFloat { 0%,100%{transform:translate(0,0)} 50%{transform:translate(15px,25px)} }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø§Ù„ØµÙØ­Ø§Øª
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.page { display: none; min-height: 100vh; position: relative; z-index: 1; }
.page.active { display: block; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø§Ù„ØªØ³Ø¬ÙŠÙ„
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#authPage {
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  min-height: 100vh;
}
#authPage.active { display: flex; flex-direction: column; }

.auth-logo {
  text-align: center;
  margin-bottom: 32px;
}
.logo-main {
  font-family: 'Orbitron', monospace;
  font-size: 2.8rem; font-weight: 900;
  background: linear-gradient(135deg, var(--cyan), var(--purple));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 0 25px rgba(0,245,255,0.5));
  animation: logoPulse 3s ease-in-out infinite;
  letter-spacing: 0.1em;
}
@keyframes logoPulse {
  0%,100%{ filter: drop-shadow(0 0 20px rgba(0,245,255,0.5)) }
  50%{ filter: drop-shadow(0 0 40px rgba(191,0,255,0.7)) }
}
.logo-sub {
  font-size: 0.85rem; letter-spacing: 0.3em;
  color: rgba(0,245,255,0.45);
  text-transform: uppercase; margin-top: 4px;
}

.auth-box {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 20px;
  width: 100%; max-width: 420px;
  padding: 36px;
  box-shadow: 0 0 60px rgba(0,245,255,0.06);
  position: relative;
}
.auth-box::before {
  content: '';
  position: absolute; inset: 0; border-radius: inherit; padding: 1px;
  background: linear-gradient(135deg, rgba(0,245,255,0.25), transparent 50%, rgba(191,0,255,0.25));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  pointer-events: none;
}

/* Ø§Ù„ØªØ§Ø¨Ø³ */
.auth-tabs {
  display: flex; border-bottom: 1px solid rgba(0,245,255,0.1);
  margin-bottom: 28px; gap: 4px;
}
.auth-tab {
  flex: 1; padding: 12px; text-align: center;
  font-size: 0.95rem; font-weight: 700;
  color: rgba(0,245,255,0.35);
  border-bottom: 2px solid transparent;
  cursor: pointer; transition: all 0.3s;
  border-radius: 8px 8px 0 0;
}
.auth-tab.active { color: var(--cyan); border-bottom-color: var(--cyan); }
.auth-tab:hover:not(.active) { color: rgba(0,245,255,0.65); }

.auth-form { display: none; }
.auth-form.active { display: block; }

.field-label {
  display: block;
  color: rgba(0,245,255,0.55);
  font-size: 0.8rem; font-weight: 700;
  letter-spacing: 0.08em; text-transform: uppercase;
  margin-bottom: 7px;
}
.field-input {
  width: 100%;
  background: rgba(0,245,255,0.03);
  border: 1px solid rgba(0,245,255,0.15);
  border-radius: 10px;
  padding: 13px 16px;
  color: #e0f7ff;
  font-family: 'Tajawal', sans-serif;
  font-size: 0.95rem;
  outline: none; transition: all 0.3s;
  direction: rtl;
}
.field-input:focus {
  border-color: var(--cyan);
  box-shadow: 0 0 20px rgba(0,245,255,0.18), inset 0 0 10px rgba(0,245,255,0.04);
  background: rgba(0,245,255,0.06);
}
.field-input::placeholder { color: rgba(0,245,255,0.25); }

.field-group { margin-bottom: 18px; }

.btn-auth {
  width: 100%; padding: 14px;
  background: linear-gradient(135deg, rgba(0,245,255,0.12), rgba(191,0,255,0.12));
  border: 1px solid rgba(0,245,255,0.4);
  border-radius: 10px;
  color: var(--cyan);
  font-family: 'Tajawal', sans-serif;
  font-size: 1rem; font-weight: 800;
  letter-spacing: 0.05em;
  cursor: pointer; transition: all 0.3s;
  position: relative; overflow: hidden;
  margin-top: 8px;
}
.btn-auth:hover {
  box-shadow: 0 0 35px rgba(0,245,255,0.35), 0 0 70px rgba(191,0,255,0.15);
  transform: translateY(-1px);
  border-color: var(--cyan);
}
.btn-auth:active { transform: translateY(0); }
.btn-auth:disabled { opacity: 0.45; cursor: not-allowed; transform: none; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#dashPage { display: none; }
#dashPage.active { display: flex; }

/* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
.sidebar {
  width: 250px; min-height: 100vh;
  background: var(--panel);
  border-left: 1px solid var(--border);
  display: flex; flex-direction: column;
  position: fixed; top: 0; right: 0;
  z-index: 100;
  transition: transform 0.3s;
}
.sidebar-logo {
  padding: 24px 20px;
  border-bottom: 1px solid rgba(0,245,255,0.08);
}
.s-logo {
  font-family: 'Orbitron', monospace;
  font-size: 1.3rem; font-weight: 900;
  background: linear-gradient(135deg, var(--cyan), var(--purple));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 0 8px rgba(0,245,255,0.4));
}
.s-sub {
  font-size: 0.65rem; letter-spacing: 0.2em;
  color: rgba(0,245,255,0.35); text-transform: uppercase;
  margin-top: 3px;
}
.sidebar-nav { flex: 1; padding: 16px 12px; }
.nav-btn {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 14px; border-radius: 10px;
  color: rgba(0,245,255,0.45); font-size: 0.95rem;
  font-weight: 600; cursor: pointer;
  transition: all 0.2s; margin-bottom: 4px;
  border: none; background: none; width: 100%;
  text-align: right;
}
.nav-btn:hover, .nav-btn.active {
  color: var(--cyan);
  background: rgba(0,245,255,0.07);
  box-shadow: inset -3px 0 0 var(--cyan);
}
.nav-btn svg { width: 18px; height: 18px; flex-shrink: 0; }

.sidebar-user {
  padding: 16px 20px;
  border-top: 1px solid rgba(0,245,255,0.08);
  display: flex; align-items: center; gap: 12px;
}
.user-av {
  width: 38px; height: 38px; border-radius: 50%;
  background: linear-gradient(135deg, var(--cyan), var(--purple));
  display: flex; align-items: center; justify-content: center;
  font-family: 'Orbitron', monospace; font-size: 1rem;
  font-weight: 900; color: #000; flex-shrink: 0;
}
.user-name { font-weight: 700; font-size: 0.9rem; color: #e0f7ff; }
.user-email { font-size: 0.7rem; color: rgba(0,245,255,0.35); margin-top: 1px; }

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
.main-content {
  flex: 1;
  margin-right: 250px;
  min-height: 100vh;
  display: flex; flex-direction: column;
}

/* Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ */
.topbar {
  background: rgba(10,13,26,0.92);
  border-bottom: 1px solid rgba(0,245,255,0.08);
  padding: 16px 28px;
  display: flex; align-items: center; justify-content: space-between;
  backdrop-filter: blur(12px);
  position: sticky; top: 0; z-index: 50;
}
.topbar-title {
  font-family: 'Orbitron', monospace;
  font-size: 1rem; font-weight: 700;
  color: var(--cyan); letter-spacing: 0.08em;
}
.stat-chip {
  background: rgba(0,245,255,0.05);
  border: 1px solid rgba(0,245,255,0.12);
  border-radius: 6px; padding: 6px 14px;
  font-size: 0.8rem; color: rgba(0,245,255,0.6);
  font-weight: 600;
}
.stat-chip strong { color: var(--cyan); }

.dash-content { padding: 28px; flex: 1; }

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¡ */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px; margin-bottom: 32px;
}
.stat-card {
  background: var(--card);
  border: 1px solid rgba(0,245,255,0.1);
  border-radius: 14px; padding: 20px;
  position: relative; overflow: hidden;
}
.stat-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 1px;
  background: linear-gradient(90deg, transparent, rgba(0,245,255,0.3), transparent);
}
.stat-label {
  font-size: 0.72rem; color: rgba(0,245,255,0.45);
  letter-spacing: 0.1em; text-transform: uppercase;
  margin-bottom: 8px;
}
.stat-value {
  font-family: 'Orbitron', monospace;
  font-size: 2rem; font-weight: 900;
}
.stat-desc { font-size: 0.72rem; margin-top: 4px; opacity: 0.4; }

/* Ø´Ø¨ÙƒØ© Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª */
.section-header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 20px;
}
.section-title {
  font-family: 'Orbitron', monospace;
  font-size: 1rem; font-weight: 700;
  color: var(--cyan); letter-spacing: 0.08em;
}
.section-sub { font-size: 0.8rem; color: rgba(0,245,255,0.4); margin-top: 2px; }

.servers-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 18px;
}

/* Ø¨Ø·Ø§Ù‚Ø© Ø³ÙŠØ±ÙØ± */
.server-card {
  background: var(--card);
  border: 1px solid rgba(0,245,255,0.1);
  border-radius: 14px; overflow: hidden;
  transition: all 0.3s; position: relative;
}
.server-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 1px;
  background: linear-gradient(90deg, transparent, rgba(0,245,255,0.2), transparent);
}
.server-card:hover { border-color: rgba(0,245,255,0.25); transform: translateY(-3px); }
.server-card.running { border-color: rgba(0,255,136,0.35); }
.server-card.running::before { background: linear-gradient(90deg, transparent, rgba(0,255,136,0.4), transparent); }
.server-card.error { border-color: rgba(255,51,102,0.35); }

.card-head {
  padding: 18px 18px 14px;
  border-bottom: 1px solid rgba(0,245,255,0.06);
  display: flex; align-items: flex-start; justify-content: space-between; gap: 10px;
}
.card-name {
  font-size: 1rem; font-weight: 800; color: #e0f7ff;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  max-width: 160px;
}
.card-file { font-size: 0.75rem; color: rgba(0,245,255,0.4); margin-top: 4px; }

.status-badge {
  padding: 4px 10px; border-radius: 5px;
  font-size: 0.68rem; font-weight: 800;
  letter-spacing: 0.08em; white-space: nowrap; flex-shrink: 0;
}
.badge-running { background: rgba(0,255,136,0.1); color: var(--green); border: 1px solid rgba(0,255,136,0.3); }
.badge-stopped { background: rgba(0,245,255,0.05); color: rgba(0,245,255,0.5); border: 1px solid rgba(0,245,255,0.15); }
.badge-error   { background: rgba(255,51,102,0.1); color: var(--red); border: 1px solid rgba(255,51,102,0.3); }

/* Ù†Ù‚Ø·Ø© Ø­Ø§Ù„Ø© Ù…ØªØ­Ø±ÙƒØ© */
.status-dot {
  width: 8px; height: 8px; border-radius: 50%;
  display: inline-block; margin-left: 6px;
}
.dot-running { background: var(--green); box-shadow: 0 0 8px var(--green); animation: dotPulse 2s infinite; }
.dot-stopped { background: rgba(0,245,255,0.3); }
.dot-error   { background: var(--red); box-shadow: 0 0 8px var(--red); }
@keyframes dotPulse { 0%,100%{box-shadow:0 0 4px var(--green)} 50%{box-shadow:0 0 16px var(--green), 0 0 30px rgba(0,255,136,0.3)} }

.card-resources {
  padding: 12px 18px;
  border-bottom: 1px solid rgba(0,245,255,0.05);
  display: flex; gap: 16px;
}
.res-item { font-size: 0.72rem; color: rgba(0,245,255,0.4); }
.res-item strong { color: rgba(0,245,255,0.7); }

.card-actions {
  padding: 14px 18px;
  display: flex; gap: 8px; flex-wrap: wrap; align-items: center;
}

/* Ø®Ø§Ù†Ø© ÙØ§Ø±ØºØ© */
.empty-slot {
  background: rgba(0,245,255,0.02);
  border: 2px dashed rgba(0,245,255,0.1);
  border-radius: 14px; min-height: 175px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; transition: all 0.3s;
}
.empty-slot:hover {
  border-color: rgba(0,245,255,0.3);
  background: rgba(0,245,255,0.05);
  box-shadow: 0 0 25px rgba(0,245,255,0.08);
}
.plus-wrap {
  display: flex; flex-direction: column; align-items: center; gap: 8px;
  color: rgba(0,245,255,0.3); transition: color 0.3s;
}
.empty-slot:hover .plus-wrap { color: var(--cyan); }
.plus-wrap span { font-size: 0.85rem; font-weight: 700; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ØµÙØ­Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#serverPage { display: none; }
#serverPage.active { display: flex; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø§Ù„ØªÙŠØ±Ù…Ù†Ø§Ù„
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.terminal-wrap {
  border: 1px solid rgba(0,245,255,0.1);
  border-radius: 14px; overflow: hidden;
  margin-bottom: 20px;
}
.terminal-bar {
  background: #0a0d1a;
  padding: 12px 16px;
  display: flex; align-items: center; justify-content: space-between;
  border-bottom: 1px solid rgba(0,245,255,0.1);
}
.term-dots { display: flex; gap: 7px; }
.td { width: 12px; height: 12px; border-radius: 50%; }
.td-r{background:#ff5f57;} .td-y{background:#febc2e;} .td-g{background:#28c840;}
.term-title {
  font-family: 'Share Tech Mono', monospace;
  font-size: 0.78rem; color: rgba(0,245,255,0.5);
}
.live-badge {
  font-family: 'Share Tech Mono', monospace;
  font-size: 0.65rem; color: var(--green);
  animation: dotPulse 2s infinite;
  display: none;
}

#terminal {
  background: #030408;
  font-family: 'Share Tech Mono', monospace;
  font-size: 0.82rem;
  color: #00f5ff;
  height: 380px;
  overflow-y: auto;
  padding: 16px;
  line-height: 1.7;
  white-space: pre-wrap;
  word-break: break-all;
  scrollbar-width: thin;
  scrollbar-color: rgba(0,245,255,0.2) transparent;
}
#terminal::-webkit-scrollbar { width: 4px; }
#terminal::-webkit-scrollbar-thumb { background: rgba(0,245,255,0.2); border-radius: 2px; }

.log-sys  { color: rgba(0,245,255,0.55); }
.log-err  { color: var(--red); }
.log-warn { color: var(--yellow); }
.log-ok   { color: var(--green); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù„ÙØ§Øª
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.file-card {
  background: var(--card);
  border: 1px solid rgba(0,245,255,0.1);
  border-radius: 14px; overflow: hidden;
}
.file-card-head {
  padding: 16px 18px;
  border-bottom: 1px solid rgba(0,245,255,0.08);
  display: flex; align-items: center; justify-content: space-between;
}
.fc-title {
  font-size: 0.85rem; font-weight: 800;
  color: var(--cyan); letter-spacing: 0.08em; text-transform: uppercase;
}
#dropZone {
  margin: 14px;
  border: 2px dashed rgba(0,245,255,0.18);
  border-radius: 10px; padding: 24px 16px;
  text-align: center; cursor: pointer;
  transition: all 0.3s; position: relative;
}
#dropZone:hover, #dropZone.drag {
  border-color: var(--cyan);
  background: rgba(0,245,255,0.05);
  box-shadow: 0 0 20px rgba(0,245,255,0.1);
}
#dropZone input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
.dz-icon { color: rgba(0,245,255,0.4); margin-bottom: 6px; }
.dz-text { font-size: 0.82rem; color: rgba(0,245,255,0.5); }
.dz-hint { font-size: 0.68rem; color: rgba(0,245,255,0.3); margin-top: 3px; font-family: 'Share Tech Mono', monospace; }

.file-list { max-height: 280px; overflow-y: auto; scrollbar-width: thin; scrollbar-color: rgba(0,245,255,0.15) transparent; }
.file-row {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 18px;
  border-bottom: 1px solid rgba(0,245,255,0.05);
  transition: background 0.2s;
}
.file-row:last-child { border-bottom: none; }
.file-row:hover { background: rgba(0,245,255,0.04); }
.file-name-txt { font-family: 'Share Tech Mono', monospace; font-size: 0.8rem; color: #e0f7ff; }
.file-size { font-size: 0.68rem; color: rgba(0,245,255,0.35); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø§Ù„Ø£Ø²Ø±Ø§Ø±
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.btn {
  padding: 8px 16px; border-radius: 8px;
  cursor: pointer; font-family: 'Tajawal', sans-serif;
  font-size: 0.85rem; font-weight: 700;
  border: 1px solid; transition: all 0.2s;
  display: inline-flex; align-items: center; gap: 6px;
}
.btn:disabled { opacity: 0.4; cursor: not-allowed; pointer-events: none; }
.btn-cyan   { color: var(--cyan);   border-color: rgba(0,245,255,0.4);   background: rgba(0,245,255,0.06); }
.btn-cyan:hover   { background: rgba(0,245,255,0.15);   box-shadow: 0 0 18px rgba(0,245,255,0.3); }
.btn-green  { color: var(--green);  border-color: rgba(0,255,136,0.4);   background: rgba(0,255,136,0.06); }
.btn-green:hover  { background: rgba(0,255,136,0.15);  box-shadow: 0 0 18px rgba(0,255,136,0.3); }
.btn-red    { color: var(--red);    border-color: rgba(255,51,102,0.4);  background: rgba(255,51,102,0.06); }
.btn-red:hover    { background: rgba(255,51,102,0.15);  box-shadow: 0 0 18px rgba(255,51,102,0.3); }
.btn-sm { padding: 5px 12px; font-size: 0.78rem; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.modal-bg {
  position: fixed; inset: 0;
  background: rgba(6,8,16,0.88);
  backdrop-filter: blur(8px);
  z-index: 200;
  display: none; align-items: center; justify-content: center;
  padding: 20px;
}
.modal-bg.open { display: flex; }
.modal-box {
  background: var(--panel);
  border: 1px solid rgba(0,245,255,0.2);
  border-radius: 18px;
  width: 100%; max-width: 420px;
  box-shadow: 0 0 60px rgba(0,245,255,0.1);
}
.modal-head {
  padding: 20px 24px;
  border-bottom: 1px solid rgba(0,245,255,0.08);
  display: flex; align-items: center; justify-content: space-between;
}
.modal-title {
  font-family: 'Orbitron', monospace;
  font-size: 0.9rem; font-weight: 700;
  color: var(--cyan); letter-spacing: 0.08em;
}
.modal-close {
  background: none; border: none;
  color: rgba(0,245,255,0.4); font-size: 1.5rem;
  cursor: pointer; line-height: 1; transition: color 0.2s;
}
.modal-close:hover { color: var(--cyan); }
.modal-body { padding: 24px; }
.modal-foot { padding: 16px 24px; border-top: 1px solid rgba(0,245,255,0.08); display: flex; gap: 10px; justify-content: flex-end; }

.inp {
  width: 100%;
  background: rgba(0,245,255,0.03);
  border: 1px solid rgba(0,245,255,0.15);
  border-radius: 10px; padding: 12px 14px;
  color: #e0f7ff; font-family: 'Tajawal', sans-serif;
  font-size: 0.9rem; outline: none; transition: all 0.3s;
  direction: rtl;
}
.inp:focus {
  border-color: var(--cyan);
  box-shadow: 0 0 15px rgba(0,245,255,0.15);
  background: rgba(0,245,255,0.05);
}
.inp::placeholder { color: rgba(0,245,255,0.25); }
.inp-label {
  display: block; margin-bottom: 7px;
  color: rgba(0,245,255,0.55); font-size: 0.78rem;
  font-weight: 700; letter-spacing: 0.06em; text-transform: uppercase;
}
.inp-group { margin-bottom: 18px; }
.inp-hint { font-size: 0.72rem; color: rgba(0,245,255,0.3); margin-top: 5px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª (Toasts)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#toasts {
  position: fixed; top: 18px; left: 18px;
  z-index: 9999; display: flex; flex-direction: column; gap: 10px;
}
.toast {
  padding: 13px 18px; border-radius: 10px;
  font-size: 0.88rem; font-weight: 600;
  min-width: 260px; max-width: 360px;
  border-right: 3px solid;
  transform: translateX(-120%);
  transition: transform 0.4s cubic-bezier(0.34,1.56,0.64,1);
  display: flex; align-items: center; gap: 10px;
}
.toast.show { transform: translateX(0); }
.t-success { background:#071a12; border-color:var(--green); color:var(--green); box-shadow:0 0 20px rgba(0,255,136,0.2); }
.t-error   { background:#1a0709; border-color:var(--red);   color:var(--red);   box-shadow:0 0 20px rgba(255,51,102,0.2); }
.t-info    { background:#071218; border-color:var(--cyan);  color:var(--cyan);  box-shadow:0 0 20px rgba(0,245,255,0.2); }
.t-warning { background:#1a1500; border-color:var(--yellow);color:var(--yellow);box-shadow:0 0 20px rgba(255,204,0,0.2); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø§Ù„ÙÙˆØªØ±
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.neon-footer {
  text-align: center; padding: 22px;
  font-family: 'Share Tech Mono', monospace;
  font-size: 0.75rem; letter-spacing: 0.1em;
  animation: footerGlow 4s ease-in-out infinite;
}
@keyframes footerGlow {
  0%,100%{ color:rgba(0,245,255,0.35); text-shadow:none; }
  50%{ color:rgba(0,245,255,0.9); text-shadow:0 0 15px rgba(0,245,255,0.5),0 0 35px rgba(191,0,255,0.35); }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Ø¹Ø§Ø±Ø¶ Ø§Ù„Ù…Ù„Ù
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#viewerModal .modal-box { max-width: 780px; }
#fileViewer {
  max-height: 60vh; overflow-y: auto;
  background: #030408;
  border-radius: 10px; padding: 16px;
  font-family: 'Share Tech Mono', monospace;
  font-size: 0.8rem; color: #c8e8f0;
  white-space: pre-wrap; word-break: break-all;
  scrollbar-width: thin;
}

/* Pyodide loading bar */
.py-loading-bar {
  position: fixed; bottom: 0; left: 0; right: 0;
  background: rgba(10,13,26,0.97);
  border-top: 1px solid rgba(0,245,255,0.2);
  padding: 12px 20px;
  display: none; align-items: center; gap: 14px;
  z-index: 9000; font-family: 'Share Tech Mono', monospace;
  font-size: 0.8rem; color: var(--cyan);
}
.py-loading-bar.show { display: flex; }
.py-spinner {
  width: 16px; height: 16px; border: 2px solid rgba(0,245,255,0.2);
  border-top-color: var(--cyan); border-radius: 50%;
  animation: spin 0.8s linear infinite; flex-shrink: 0;
}
@keyframes spin { to { transform: rotate(360deg); } }
@media(max-width:768px){
  .sidebar { transform: translateX(100%); }
  .sidebar.open { transform: translateX(0); }
  .main-content { margin-right: 0; }
  .menu-btn { display: flex !important; }
  .stats-grid { grid-template-columns: repeat(2,1fr); }
}
.menu-btn {
  display: none; background: none; border: none;
  color: var(--cyan); cursor: pointer; padding: 4px;
}
</style>
</head>
<body>

<div class="scan"></div>
<div class="orb orb1"></div>
<div class="orb orb2"></div>
<div id="toasts"></div>
<div class="py-loading-bar" id="pyLoadingBar">
  <div class="py-spinner"></div>
  <span id="pyLoadingText">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ¦Ø© Python...</span>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="authPage" class="page active">
  <div class="auth-logo">
    <div class="logo-main">ALORD</div>
    <div class="logo-sub">Ù…Ù†ØµØ© Ø§Ù„Ø§Ø³ØªØ¶Ø§ÙØ© Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠØ©</div>
  </div>

  <div class="auth-box">
    <div class="auth-tabs">
      <div class="auth-tab active" onclick="switchTab('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>
      <div class="auth-tab" onclick="switchTab('register')">Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</div>
    </div>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="loginForm" class="auth-form active">
      <div class="field-group">
        <label class="field-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
        <input id="loginUser" type="text" class="field-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="username">
      </div>
      <div class="field-group">
        <label class="field-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
        <input id="loginPass" type="password" class="field-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password">
      </div>
      <button class="btn-auth" onclick="doLogin()">Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ù†ØµØ©</button>
    </div>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
    <div id="registerForm" class="auth-form">
      <div class="field-group">
        <label class="field-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
        <input id="regUser" type="text" class="field-input" placeholder="Ø§Ø®ØªØ± Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="username">
      </div>
      <div class="field-group">
        <label class="field-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <input id="regEmail" type="email" class="field-input" placeholder="example@email.com" autocomplete="email">
      </div>
      <div class="field-group">
        <label class="field-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <span style="color:rgba(255,255,255,0.3);font-size:0.75rem;">(8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)</span></label>
        <input id="regPass" type="password" class="field-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password">
      </div>
      <button class="btn-auth" onclick="doRegister()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
    </div>
  </div>

  <div class="neon-footer" style="margin-top:24px;">
    Developed by ã€ | ğ˜¼ğ™¡ğ™¤ğ™§ğ™™ ğ™•ğ™–ğ™®ğ™§ğ™¤ ğŸ–¤ | ã€
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="dashPage" class="page">

  <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-logo">
      <div class="s-logo">ALORD</div>
      <div class="s-sub">HOSTING PLATFORM</div>
    </div>
    <div class="sidebar-nav">
      <button class="nav-btn active" onclick="goToDash()">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/>
          <rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/>
        </svg>
        Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
      </button>
      <button class="nav-btn" onclick="goToDash()">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
        Ø³ÙŠØ±ÙØ±Ø§ØªÙŠ
      </button>
    </div>
    <div class="sidebar-user">
      <div class="user-av" id="sideAvatar">A</div>
      <div>
        <div class="user-name" id="sideUsername">Ù…Ø³ØªØ®Ø¯Ù…</div>
        <div class="user-email" id="sideEmail"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97f2faf6fefbd7f2eff6fae7fbf2b9f4f8fa">[email&#160;protected]</a></div>
      </div>
    </div>
    <div style="padding:12px 16px;border-top:1px solid rgba(0,245,255,0.06);">
      <button class="nav-btn btn-red" style="color:var(--red);" onclick="doLogout()">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"/>
        </svg>
        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
      </button>
    </div>
  </nav>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
  <div class="main-content">
    <div class="topbar">
      <div style="display:flex;align-items:center;gap:12px;">
        <button class="menu-btn" id="menuBtn" onclick="toggleSidebar()">
          <svg width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
        <div class="topbar-title">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</div>
      </div>
      <div style="display:flex;gap:10px;">
        <div class="stat-chip">Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª: <strong id="topCount">0</strong> / <strong>7</strong></div>
        <div class="stat-chip">ÙŠØ¹Ù…Ù„: <strong id="topRunning">0</strong></div>
      </div>
    </div>

    <div class="dash-content">
      <!-- Ø¥Ø­ØµØ§Ø¡Ø§Øª -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª</div>
          <div class="stat-value" id="statTotal" style="color:var(--cyan);">0</div>
          <div class="stat-desc">Ù…Ù† Ø£ØµÙ„ 7</div>
        </div>
        <div class="stat-card" style="border-color:rgba(0,255,136,0.15);">
          <div class="stat-label" style="color:rgba(0,255,136,0.5);">ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù†</div>
          <div class="stat-value" id="statRunning" style="color:var(--green);">0</div>
          <div class="stat-desc" style="color:rgba(0,255,136,0.3);">Ù…ØªØµÙ„</div>
        </div>
        <div class="stat-card">
          <div class="stat-label" style="color:rgba(191,0,255,0.5);">Ø­Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬</div>
          <div class="stat-value" style="color:var(--purple);">0.5</div>
          <div class="stat-desc" style="color:rgba(191,0,255,0.3);">ÙƒÙˆØ± Ù„ÙƒÙ„ Ø³ÙŠØ±ÙØ±</div>
        </div>
        <div class="stat-card">
          <div class="stat-label" style="color:rgba(255,204,0,0.5);">Ø­Ø¯ Ø§Ù„Ø°Ø§ÙƒØ±Ø©</div>
          <div class="stat-value" style="color:var(--yellow);">256</div>
          <div class="stat-desc" style="color:rgba(255,204,0,0.3);">MB Ù„ÙƒÙ„ Ø³ÙŠØ±ÙØ±</div>
        </div>
      </div>

      <!-- Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª -->
      <div class="section-header">
        <div>
          <div class="section-title">Ø³ÙŠØ±ÙØ±Ø§ØªÙŠ</div>
          <div class="section-sub">Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ¦Ø§Øª Python Ø§Ù„Ù…Ø¹Ø²ÙˆÙ„Ø©</div>
        </div>
        <button class="btn btn-cyan" onclick="openCreateModal()" id="createBtn">
          <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
          Ø³ÙŠØ±ÙØ± Ø¬Ø¯ÙŠØ¯
        </button>
      </div>

      <div class="servers-grid" id="serversGrid">
        <!-- ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
      </div>
    </div>

    <div class="neon-footer">Developed by ã€ | ğ˜¼ğ™¡ğ™¤ğ™§ğ™™ ğ™•ğ™–ğ™®ğ™§ğ™¤ ğŸ–¤ | ã€</div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ØµÙØ­Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="serverPage" class="page">

  <nav class="sidebar" id="sidebar2">
    <div class="sidebar-logo">
      <div class="s-logo">ALORD</div>
      <div class="s-sub">HOSTING PLATFORM</div>
    </div>
    <div class="sidebar-nav">
      <button class="nav-btn" onclick="goToDash()">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 5l-7 7 7 7"/>
        </svg>
        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø©
      </button>
    </div>
    <div class="sidebar-user">
      <div class="user-av" id="sideAvatar2">A</div>
      <div>
        <div class="user-name" id="sideUsername2">Ù…Ø³ØªØ®Ø¯Ù…</div>
      </div>
    </div>
  </nav>

  <div class="main-content">
    <div class="topbar">
      <div style="display:flex;align-items:center;gap:10px;">
        <button class="menu-btn" id="menuBtn2" onclick="toggleSidebar2()">
          <svg width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
        <button onclick="goToDash()" style="background:none;border:none;color:rgba(0,245,255,0.5);cursor:pointer;font-size:0.85rem;display:flex;align-items:center;gap:4px;font-family:'Tajawal',sans-serif;" onmouseover="this.style.color='var(--cyan)'" onmouseout="this.style.color='rgba(0,245,255,0.5)'">
          <svg width="15" height="15" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        </button>
        <span style="color:rgba(0,245,255,0.2);">/</span>
        <span id="serverPageName" style="font-family:'Orbitron',monospace;font-size:0.9rem;font-weight:700;color:var(--cyan);"></span>
        <span id="serverPageBadge" class="status-badge badge-stopped"></span>
      </div>
      <div style="display:flex;gap:8px;" id="serverActions">
      </div>
    </div>

    <div class="dash-content">
      <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(145px,1fr));gap:14px;margin-bottom:24px;">
        <div class="stat-card" style="padding:16px;">
          <div class="stat-label">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</div>
          <div id="spMainFile" style="font-family:'Share Tech Mono',monospace;font-size:0.85rem;color:var(--cyan);margin-top:6px;">ÙŠÙÙƒØªØ´Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</div>
        </div>
        <div class="stat-card" style="padding:16px;">
          <div class="stat-label" style="color:rgba(191,0,255,0.5);">Ø­Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬</div>
          <div style="font-family:'Orbitron',monospace;font-size:0.9rem;color:var(--purple);margin-top:6px;">0.5 ÙƒÙˆØ±</div>
        </div>
        <div class="stat-card" style="padding:16px;">
          <div class="stat-label" style="color:rgba(255,204,0,0.5);">Ø­Ø¯ Ø§Ù„Ø°Ø§ÙƒØ±Ø©</div>
          <div style="font-family:'Orbitron',monospace;font-size:0.9rem;color:var(--yellow);margin-top:6px;">256 MB</div>
        </div>
        <div class="stat-card" style="padding:16px;">
          <div class="stat-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</div>
          <div id="spCreated" style="font-family:'Share Tech Mono',monospace;font-size:0.8rem;color:#e0f7ff;margin-top:6px;"></div>
        </div>
      </div>

      <div style="display:grid;grid-template-columns:1fr 340px;gap:20px;align-items:start;">

        <!-- Ø§Ù„ÙŠØ³Ø§Ø±: ØªÙŠØ±Ù…Ù†Ø§Ù„ + Ø¥Ø¹Ø§Ø¯Ø© ØªØ³Ù…ÙŠØ© -->
        <div>
          <!-- Ø§Ù„ØªÙŠØ±Ù…Ù†Ø§Ù„ -->
          <div class="terminal-wrap">
            <div class="terminal-bar">
              <div style="display:flex;align-items:center;gap:12px;">
                <div class="term-dots">
                  <div class="td td-r"></div>
                  <div class="td td-y"></div>
                  <div class="td td-g"></div>
                </div>
                <span class="term-title" id="termTitle">terminal</span>
              </div>
              <div style="display:flex;align-items:center;gap:8px;">
                <span id="liveBadge" class="live-badge">â— Ù…Ø¨Ø§Ø´Ø±</span>
                <button class="btn btn-cyan btn-sm" onclick="clearTerminal()">Ù…Ø³Ø­</button>
                <button class="btn btn-cyan btn-sm" onclick="scrollTerm()">â†“ Ù†Ù‡Ø§ÙŠØ©</button>
              </div>
            </div>
            <div id="terminal"><span class="log-sys">[Ø§Ù„Ù†Ø¸Ø§Ù…] Ø¬Ø§Ù‡Ø² â€” Ø´ØºÙ‘Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª.</span>
</div>
          </div>

          <!-- Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ³Ù…ÙŠØ© -->
          <div class="stat-card" style="padding:20px;">
            <div style="font-size:0.85rem;font-weight:800;color:var(--cyan);letter-spacing:0.08em;text-transform:uppercase;margin-bottom:14px;">Ø¥Ø¹Ø§Ø¯Ø© ØªØ³Ù…ÙŠØ© Ø§Ù„Ø³ÙŠØ±ÙØ±</div>
            <div style="display:flex;gap:10px;">
              <input id="renameInp" type="text" class="inp" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±" style="flex:1;">
              <button class="btn btn-cyan" onclick="renameServer()">Ø­ÙØ¸</button>
            </div>
          </div>
        </div>

        <!-- Ø§Ù„ÙŠÙ…ÙŠÙ†: Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù„ÙØ§Øª -->
        <div class="file-card">
          <div class="file-card-head">
            <div class="fc-title">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù„ÙØ§Øª</div>
            <span id="fileCountBadge" style="font-size:0.72rem;color:rgba(0,245,255,0.4);font-family:'Share Tech Mono',monospace;">0 Ù…Ù„Ù</span>
          </div>

          <div id="dropZone">
            <input type="file" id="fileInput" multiple accept=".py,.txt,.json,.env,.cfg,.ini,.yaml,.yml" onchange="uploadFiles(this.files)">
            <div class="dz-icon">
              <svg width="28" height="28" fill="none" viewBox="0 0 24 24" stroke="rgba(0,245,255,0.45)" stroke-width="1.5">
                <path d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/>
              </svg>
            </div>
            <div class="dz-text">Ø§Ø³Ø­Ø¨ Ù…Ù„ÙØ§ØªÙƒ Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø±ÙØ¹</div>
            <div class="dz-hint">.py .txt .json .env .yaml .cfg .ini</div>
          </div>

          <div class="file-list" id="fileList">
            <div id="emptyFiles" style="padding:20px;text-align:center;font-size:0.8rem;color:rgba(0,245,255,0.3);">
              Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª Ø¨Ø¹Ø¯
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="neon-footer">Developed by ã€ | ğ˜¼ğ™¡ğ™¤ğ™§ğ™™ ğ™•ğ™–ğ™®ğ™§ğ™¤ ğŸ–¤ | ã€</div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     Ù…ÙˆØ¯Ø§Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ±ÙØ±
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-bg" id="createModal">
  <div class="modal-box">
    <div class="modal-head">
      <span class="modal-title">Ø³ÙŠØ±ÙØ± Ø¬Ø¯ÙŠØ¯</span>
      <button class="modal-close" onclick="closeModal('createModal')">Ã—</button>
    </div>
    <div class="modal-body">
      <div class="inp-group">
        <label class="inp-label">Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±</label>
        <input id="newName" type="text" class="inp" placeholder="Ù…Ø«Ø§Ù„: Ø¨ÙˆØª Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…" maxlength="60">
      </div>
      <div class="inp-hint" style="color:rgba(0,245,255,0.45);font-size:0.8rem;background:rgba(0,245,255,0.04);border:1px solid rgba(0,245,255,0.12);border-radius:8px;padding:10px 14px;">
        ğŸ’¡ Ø§Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Python â€” Ø³ÙŠØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (main.py Ø£Ùˆ Ø£ÙˆÙ„ Ù…Ù„Ù .py). ÙˆØ¬ÙˆØ¯ requirements.txt ÙŠÙØ«Ø¨ÙÙ‘Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.
      </div>
    </div>
    <div class="modal-foot">
      <button class="btn btn-red" onclick="closeModal('createModal')">Ø¥Ù„ØºØ§Ø¡</button>
      <button class="btn btn-cyan" onclick="createServer()">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"/></svg>
        Ø¥Ù†Ø´Ø§Ø¡
      </button>
    </div>
  </div>
</div>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø¹Ø§Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª -->
<div class="modal-bg" id="viewerModal">
  <div class="modal-box" style="max-width:780px;">
    <div class="modal-head">
      <span class="modal-title" id="viewerTitle">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù</span>
      <button class="modal-close" onclick="closeModal('viewerModal')">Ã—</button>
    </div>
    <div class="modal-body" style="padding:16px;">
      <pre id="fileViewer"></pre>
    </div>
  </div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JavaScript â€” Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„ÙƒØ§Ù…Ù„
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© (localStorage)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DB = {
  get: k => { try { return JSON.parse(localStorage.getItem(k)); } catch { return null; } },
  set: (k,v) => localStorage.setItem(k, JSON.stringify(v)),
  del: k => localStorage.removeItem(k),
};

// Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙˆÙ†
function getUsers()    { return DB.get('alord_users') || {}; }
function saveUsers(u)  { DB.set('alord_users', u); }

// Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
function getSession()  { return DB.get('alord_session'); }
function saveSession(s){ DB.set('alord_session', s); }
function clearSession(){ DB.del('alord_session'); }

// Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
function getServers(uid) { return DB.get(`alord_srv_${uid}`) || []; }
function saveServers(uid, list) { DB.set(`alord_srv_${uid}`, list); }

// Ø§Ù„Ù„ÙˆØ¬Ø§Øª
function getLogs(sid) { return DB.get(`alord_log_${sid}`) || []; }
function saveLogs(sid, logs) { DB.set(`alord_log_${sid}`, logs.slice(-500)); }
function addLog(sid, line) {
  const logs = getLogs(sid);
  const t = new Date().toLocaleTimeString('ar');
  logs.push(`[${t}] ${line}`);
  saveLogs(sid, logs);
}

// Ø§Ù„Ù…Ù„ÙØ§Øª
function getFiles(sid) { return DB.get(`alord_files_${sid}`) || []; }
function saveFiles(sid, files) { DB.set(`alord_files_${sid}`, files); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø§Ù„ØªÙˆØ³ØªØ§Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toast(msg, type='info') {
  const c = document.getElementById('toasts');
  const t = document.createElement('div');
  const ico = { success:'âœ“ ', error:'âœ— ', info:'â„¹ ', warning:'âš  ' };
  t.className = `toast t-${type}`;
  t.textContent = (ico[type]||'') + msg;
  c.appendChild(t);
  requestAnimationFrame(()=>{ requestAnimationFrame(()=> t.classList.add('show')); });
  setTimeout(()=>{ t.classList.remove('show'); setTimeout(()=>t.remove(), 500); }, 3500);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  const p = document.getElementById(id);
  if (p) p.classList.add('active');
}

function goToDash() {
  showPage('dashPage');
  renderDash();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openModal(id)  { document.getElementById(id).classList.add('open'); }
function closeModal(id) { document.getElementById(id).classList.remove('open'); }
document.querySelectorAll('.modal-bg').forEach(m => {
  m.addEventListener('click', e => { if(e.target===m) m.classList.remove('open'); });
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (Ù…ÙˆØ¨Ø§ÙŠÙ„)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleSidebar()  { document.getElementById('sidebar').classList.toggle('open'); }
function toggleSidebar2() { document.getElementById('sidebar2').classList.toggle('open'); }
function checkResp() {
  const show = window.innerWidth<=768;
  document.getElementById('menuBtn').style.display  = show?'flex':'none';
  document.getElementById('menuBtn2').style.display = show?'flex':'none';
  if(!show){
    document.getElementById('sidebar').classList.remove('open');
    document.getElementById('sidebar2').classList.remove('open');
  }
}
window.addEventListener('resize', checkResp);
checkResp();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø§Ù„ØªØ§Ø¨Ø³ (ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function switchTab(tab) {
  document.querySelectorAll('.auth-tab').forEach((t,i) => {
    t.classList.toggle('active', (tab==='login'&&i===0)||(tab==='register'&&i===1));
  });
  document.getElementById('loginForm').classList.toggle('active', tab==='login');
  document.getElementById('registerForm').classList.toggle('active', tab==='register');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function doLogin() {
  const user = document.getElementById('loginUser').value.trim();
  const pass = document.getElementById('loginPass').value;
  if (!user||!pass) return toast('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');

  const users = getUsers();
  if (!users[user]) return toast('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
  if (users[user].password !== hashPass(pass)) return toast('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©', 'error');

  saveSession({ username: user, email: users[user].email });
  toast(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user}! ğŸ–¤`, 'success');
  setTimeout(() => { showPage('dashPage'); renderDash(); }, 600);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function doRegister() {
  const user  = document.getElementById('regUser').value.trim();
  const email = document.getElementById('regEmail').value.trim();
  const pass  = document.getElementById('regPass').value;

  if (!user||!email||!pass) return toast('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
  if (pass.length < 8) return toast('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'error');
  if (!/\S+@\S+\.\S+/.test(email)) return toast('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­', 'error');

  const users = getUsers();
  if (users[user]) return toast('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø£Ø®ÙˆØ° Ø¨Ø§Ù„ÙØ¹Ù„', 'error');

  users[user] = { email, password: hashPass(pass), created: new Date().toISOString() };
  saveUsers(users);
  saveSession({ username: user, email });
  toast(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! ğŸ–¤`, 'success');
  setTimeout(() => { showPage('dashPage'); renderDash(); }, 600);
}

// ØªØ´ÙÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
function hashPass(p) {
  let h = 0;
  for (let i=0;i<p.length;i++) { h = ((h<<5)-h)+p.charCodeAt(i); h|=0; }
  return 'h_' + Math.abs(h).toString(36) + '_' + p.length;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function doLogout() {
  clearSession();
  showPage('authPage');
  document.getElementById('loginUser').value='';
  document.getElementById('loginPass').value='';
  toast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬', 'info');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø±Ø³Ù… Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderDash() {
  const sess = getSession();
  if (!sess) return;

  // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  const av = sess.username[0].toUpperCase();
  document.getElementById('sideAvatar').textContent  = av;
  document.getElementById('sideUsername').textContent = sess.username;
  document.getElementById('sideEmail').textContent    = sess.email;

  const servers = getServers(sess.username);
  const running = servers.filter(s=>s.status==='running').length;

  document.getElementById('statTotal').textContent   = servers.length;
  document.getElementById('statRunning').textContent = running;
  document.getElementById('topCount').textContent    = servers.length;
  document.getElementById('topRunning').textContent  = running;

  // Ø§Ù„Ø´Ø¨ÙƒØ©
  const grid = document.getElementById('serversGrid');
  grid.innerHTML = '';

  servers.forEach(srv => {
    const el = document.createElement('div');
    el.className = `server-card ${srv.status}`;
    el.id = `card-${srv.id}`;
    el.innerHTML = `
      <div class="card-head">
        <div>
          <div class="card-name">${srv.name}</div>
          <div class="card-file">ğŸ“„ ${srv.mainFile} <span class="status-dot dot-${srv.status}"></span></div>
        </div>
        <span class="status-badge badge-${srv.status}">${statusAr(srv.status)}</span>
      </div>
      <div class="card-resources">
        <div class="res-item">ğŸ§  RAM: <strong>256 MB</strong></div>
        <div class="res-item">âš¡ CPU: <strong>0.5 ÙƒÙˆØ±</strong></div>
      </div>
      <div class="card-actions">
        ${srv.status !== 'running'
          ? `<button class="btn btn-green btn-sm" onclick="startSrv('${srv.id}')">â–¶ ØªØ´ØºÙŠÙ„</button>`
          : `<button class="btn btn-red btn-sm" onclick="stopSrv('${srv.id}')">â–  Ø¥ÙŠÙ‚Ø§Ù</button>`
        }
        <button class="btn btn-cyan btn-sm" onclick="openServer('${srv.id}')">
          <svg width="12" height="12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0020 4.77"/></svg>
          Ø¥Ø¯Ø§Ø±Ø©
        </button>
        <button class="btn btn-red btn-sm" onclick="deleteSrv('${srv.id}')" style="margin-right:auto;">ğŸ—‘</button>
      </div>`;
    grid.appendChild(el);
  });

  // Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø§Ù„ÙØ§Ø±ØºØ©
  const empty = 7 - servers.length;
  for (let i=0; i<empty; i++) {
    const el = document.createElement('div');
    el.className = 'empty-slot';
    el.onclick = openCreateModal;
    el.innerHTML = `<div class="plus-wrap">
      <svg width="32" height="32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <circle cx="12" cy="12" r="10"/><path d="M12 8v8M8 12h8"/>
      </svg>
      <span>Ø³ÙŠØ±ÙØ± Ø¬Ø¯ÙŠØ¯</span>
    </div>`;
    grid.appendChild(el);
  }
}

function statusAr(s) {
  return { running:'ÙŠØ¹Ù…Ù„', stopped:'Ù…ØªÙˆÙ‚Ù', error:'Ø®Ø·Ø£' }[s] || s;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openCreateModal() {
  const sess = getSession();
  if (!sess) return;
  const count = getServers(sess.username).length;
  if (count >= 7) return toast('ÙˆØµÙ„Øª Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ (7 Ø³ÙŠØ±ÙØ±Ø§Øª)', 'warning');
  openModal('createModal');
  document.getElementById('newName').focus();
}

function createServer() {
  const sess = getSession();
  if (!sess) return;
  const name = document.getElementById('newName').value.trim() || 'Ø³ÙŠØ±ÙØ± Ø¬Ø¯ÙŠØ¯';

  const servers = getServers(sess.username);
  if (servers.length >= 7) return toast('ÙˆØµÙ„Øª Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰', 'warning');

  const srv = {
    id: 'srv_' + Date.now(),
    name, mainFile: 'main.py',
    status: 'stopped',
    created: new Date().toLocaleDateString('ar-EG'),
  };
  servers.push(srv);
  saveServers(sess.username, servers);
  closeModal('createModal');
  document.getElementById('newName').value='';
  toast(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ "${name}" Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
  renderDash();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ù…Ø­Ø±Ùƒ Python Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (Pyodide)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const PyEngine = {
  pyodide: null,
  loading: false,
  loaded: false,

  async init(logFn) {
    if (this.loaded) return true;
    if (this.loading) {
      // Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØªØ­Ù…Ù„
      while (this.loading) await new Promise(r => setTimeout(r, 200));
      return this.loaded;
    }
    this.loading = true;
    const bar = document.getElementById('pyLoadingBar');
    const barText = document.getElementById('pyLoadingText');
    if (bar) bar.classList.add('show');
    if (barText) barText.textContent = 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ¦Ø© Python (Pyodide)...';
    logFn('[Ø§Ù„Ù†Ø¸Ø§Ù…] ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ¦Ø© Python (Pyodide)... Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø°Ù„Ùƒ Ù„Ø­Ø¸Ø©...');
    try {
      this.pyodide = await loadPyodide({
        stdout: (text) => logFn(`[Ù…Ø®Ø±Ø¬Ø§Øª] ${text}`),
        stderr: (text) => logFn(`[ØªØ­Ø°ÙŠØ±] ${text}`),
      });
      this.loaded = true;
      this.loading = false;
      if (bar) bar.classList.remove('show');
      logFn('[Ø§Ù„Ù†Ø¸Ø§Ù…] âœ“ Ø¨ÙŠØ¦Ø© Python 3 Ø¬Ø§Ù‡Ø²Ø©!');
      return true;
    } catch(e) {
      this.loading = false;
      if (bar) bar.classList.remove('show');
      logFn(`[Ø®Ø·Ø£] ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Pyodide: ${e.message}`);
      return false;
    }
  },

  // ÙØ­Øµ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù†Ø­ÙˆÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙˆØ¯
  checkSyntax(code, filename) {
    try {
      if (!this.loaded) return null;
      this.pyodide.runPython(`
import ast, sys
try:
    ast.parse(${JSON.stringify(code)})
    _syntax_ok = True
    _syntax_err = None
except SyntaxError as e:
    _syntax_ok = False
    _syntax_err = f"Ø³Ø·Ø± {e.lineno}: {e.msg}"
`);
      const ok  = this.pyodide.globals.get('_syntax_ok');
      const err = this.pyodide.globals.get('_syntax_err');
      return { ok, err: err ? String(err) : null };
    } catch(e) {
      return { ok: false, err: e.message };
    }
  },

  // ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ù…Ù† requirements.txt
  async installRequirements(reqContent, logFn) {
    const lines = reqContent.split('\n')
      .map(l => l.trim().replace(/[=><~!].*/,'').trim())
      .filter(l => l && !l.startsWith('#'));

    if (lines.length === 0) return;
    logFn(`[Ø§Ù„Ù†Ø¸Ø§Ù…] ğŸ“¦ Ø¬Ø§Ø±ÙŠ ØªØ«Ø¨ÙŠØª ${lines.length} Ù…ÙƒØªØ¨Ø©...`);
    for (const pkg of lines) {
      try {
        await this.pyodide.loadPackage(pkg);
        logFn(`[Ø§Ù„Ù†Ø¸Ø§Ù…] âœ“ ØªÙ… ØªØ«Ø¨ÙŠØª: ${pkg}`);
      } catch(e) {
        try {
          await this.pyodide.runPythonAsync(`
import micropip
await micropip.install("${pkg}")
`);
          logFn(`[Ø§Ù„Ù†Ø¸Ø§Ù…] âœ“ ØªÙ… ØªØ«Ø¨ÙŠØª: ${pkg} (micropip)`);
        } catch(e2) {
          logFn(`[ØªØ­Ø°ÙŠØ±] âš  Ù„Ù… ÙŠØªÙ… ØªØ«Ø¨ÙŠØª "${pkg}": ${e2.message}`);
        }
      }
    }
  },

  // ØªØ´ØºÙŠÙ„ ÙƒÙˆØ¯ Python
  async run(code, logFn) {
    try {
      // ØªØ­ÙˆÙŠÙ„ print Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©
      this.pyodide.setStdout({ batched: (text) => logFn(`[Ù…Ø®Ø±Ø¬Ø§Øª] ${text}`) });
      this.pyodide.setStderr({ batched: (text) => logFn(`[ØªØ­Ø°ÙŠØ±] ${text}`) });
      await this.pyodide.runPythonAsync(code);
      return { success: true };
    } catch(e) {
      const msg = e.message || String(e);
      return { success: false, error: msg };
    }
  }
};

// Ø­Ø§Ù„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±Ø§Øª
const RunningServers = {};

async function startSrv(id) {
  const sess = getSession(); if(!sess) return;
  const servers = getServers(sess.username);
  const srv = servers.find(s=>s.id===id);
  if (!srv) return;

  const files = getFiles(id);
  if (files.length === 0) {
    toast('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Python Ø£ÙˆÙ„Ø§Ù‹', 'error');
    return;
  }

  // Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
  let mainFile = files.find(f=>f.name==='main.py')
               || files.find(f=>f.name==='bot.py')
               || files.find(f=>f.name==='app.py')
               || files.find(f=>f.name.endsWith('.py'));

  if (!mainFile) {
    toast('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ù„Ù Python (.py)', 'error');
    return;
  }

  // ØªØ­Ø¯ÙŠØ« mainFile ÙÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙŠØ±ÙØ±
  srv.mainFile = mainFile.name;

  const logFn = (line) => {
    addLog(id, line);
    if (document.getElementById('serverPage').classList.contains('active') &&
        window._currentSrvId === id) {
      appendTermLine(`[${new Date().toLocaleTimeString('ar')}] ${line}`);
    }
  };

  // ØªÙ‡ÙŠØ¦Ø© Pyodide
  const ok = await PyEngine.init(logFn);
  if (!ok) {
    toast('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ¦Ø© Python', 'error');
    return;
  }

  // ÙØ­Øµ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù†Ø­ÙˆÙŠØ© Ø£ÙˆÙ„Ø§Ù‹
  logFn(`[Ø§Ù„Ù†Ø¸Ø§Ù…] ğŸ” Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ "${mainFile.name}"...`);
  const syntaxCheck = PyEngine.checkSyntax(mainFile.content, mainFile.name);
  if (syntaxCheck && !syntaxCheck.ok) {
    logFn(`[Ø®Ø·Ø£] âŒ Ø®Ø·Ø£ Ù†Ø­ÙˆÙŠ ÙÙŠ "${mainFile.name}": ${syntaxCheck.err}`);
    logFn('[Ø§Ù„Ù†Ø¸Ø§Ù…] âš  Ø§Ù„Ø³ÙŠØ±ÙØ± Ù„Ù† ÙŠØ¹Ù…Ù„ Ø¨Ø³Ø¨Ø¨ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯. ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­Ù‡Ø§.');
    srv.status = 'error';
    saveServers(sess.username, servers);
    toast(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ â€” Ù„Ù† ÙŠØ¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ±`, 'error');
    renderDash();
    if (document.getElementById('serverPage').classList.contains('active')) openServer(id);
    return;
  }
  logFn(`[Ø§Ù„Ù†Ø¸Ø§Ù…] âœ“ Ø§Ù„ÙƒÙˆØ¯ Ø³Ù„ÙŠÙ… Ù†Ø­ÙˆÙŠØ§Ù‹`);

  // ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª
  const reqFile = files.find(f=>f.name==='requirements.txt');
  if (reqFile) {
    logFn('[Ø§Ù„Ù†Ø¸Ø§Ù…] ğŸ“„ ØªÙ… Ø§ÙƒØªØ´Ø§Ù requirements.txt');
    await PyEngine.installRequirements(reqFile.content, logFn);
  }

  // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±
  srv.status = 'running';
  srv.mainFile = mainFile.name;
  srv.lastStart = new Date().toLocaleTimeString('ar');
  saveServers(sess.username, servers);
  toast(`Ø§Ù„Ø³ÙŠØ±ÙØ± "${srv.name}" ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù†! ğŸš€`, 'success');
  renderDash();
  if (document.getElementById('serverPage').classList.contains('active')) openServer(id);

  logFn(`[Ø§Ù„Ù†Ø¸Ø§Ù…] ğŸš€ Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„: python -u ${mainFile.name}`);
  logFn('â”€'.repeat(48));

  // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙØ¹Ù„ÙŠ
  const result = await PyEngine.run(mainFile.content, logFn);

  logFn('â”€'.repeat(48));

  // Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
  const serversNow = getServers(sess.username);
  const srvNow = serversNow.find(s=>s.id===id);
  if (!srvNow) return; // ØªÙ… Ø§Ù„Ø­Ø°Ù

  if (result.success) {
    logFn('[Ø§Ù„Ù†Ø¸Ø§Ù…] âœ… Ø§Ù†ØªÙ‡Ù‰ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¨Ù†Ø¬Ø§Ø­.');
    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø§Ø²Ø§Ù„ running
    if (srvNow.status === 'running') {
      logFn('[Ø§Ù„Ù†Ø¸Ø§Ù…] ğŸ”„ Ø³ÙŠØ¹Ø§Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø®Ù„Ø§Ù„ 5 Ø«ÙˆØ§Ù†Ù (24/7)...');
      RunningServers[id] = setTimeout(() => {
        if (getServers(sess.username).find(s=>s.id===id && s.status==='running')) {
          startSrv(id);
        }
      }, 5000);
    }
  } else {
    logFn(`[Ø®Ø·Ø£] âŒ ${result.error}`);
    srvNow.status = 'error';
    saveServers(sess.username, serversNow);
    toast(`Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ "${srv.name}"`, 'error');
    renderDash();
    if (document.getElementById('serverPage').classList.contains('active')) openServer(id);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø³ÙŠØ±ÙØ±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function stopSrv(id) {
  const sess = getSession(); if(!sess) return;
  const servers = getServers(sess.username);
  const srv = servers.find(s=>s.id===id);
  if (!srv) return;

  // Ø¥Ù„ØºØ§Ø¡ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
  if (RunningServers[id]) {
    clearTimeout(RunningServers[id]);
    delete RunningServers[id];
  }

  srv.status = 'stopped';
  saveServers(sess.username, servers);
  addLog(id, '[Ø§Ù„Ù†Ø¸Ø§Ù…] â¹ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø³ÙŠØ±ÙØ± ÙŠØ¯ÙˆÙŠØ§Ù‹.');
  toast(`ØªÙ… Ø¥ÙŠÙ‚Ø§Ù "${srv.name}"`, 'warning');
  renderDash();

  if (document.getElementById('serverPage').classList.contains('active')) {
    openServer(id);
  }
}

function deleteSrv(id) {
  const sess = getSession(); if(!sess) return;
  const servers = getServers(sess.username);
  const srv = servers.find(s=>s.id===id);
  if (!srv) return;
  if (!confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù "${srv.name}"ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹.`)) return;

  const updated = servers.filter(s=>s.id!==id);
  saveServers(sess.username, updated);
  DB.del(`alord_log_${id}`);
  DB.del(`alord_files_${id}`);
  toast(`ØªÙ… Ø­Ø°Ù "${srv.name}"`, 'success');
  renderDash();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ØµÙØ­Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openServer(id) {
  const sess = getSession(); if(!sess) return;
  const servers = getServers(sess.username);
  const srv = servers.find(s=>s.id===id);
  if (!srv) return;

  // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© ØµÙØ­Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±
  document.getElementById('serverPageName').textContent = srv.name;
  document.getElementById('serverPageBadge').textContent = statusAr(srv.status);
  document.getElementById('serverPageBadge').className = `status-badge badge-${srv.status}`;
  document.getElementById('spMainFile').textContent = srv.mainFile;
  document.getElementById('spCreated').textContent = srv.created;
  document.getElementById('renameInp').value = srv.name;
  document.getElementById('termTitle').textContent = `terminal â€” ${srv.name}`;

  const av = sess.username[0].toUpperCase();
  document.getElementById('sideAvatar2').textContent  = av;
  document.getElementById('sideUsername2').textContent = sess.username;

  // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…
  const actions = document.getElementById('serverActions');
  if (srv.status !== 'running') {
    actions.innerHTML = `
      <button class="btn btn-green" onclick="startFromPage('${id}')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><path d="M5 3l14 9-14 9V3z"/></svg>
        ØªØ´ØºÙŠÙ„
      </button>
      <button class="btn btn-red" onclick="deleteSrvPage('${id}')">ğŸ—‘</button>`;
  } else {
    actions.innerHTML = `
      <button class="btn btn-red" onclick="stopFromPage('${id}')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="6" width="12" height="12"/></svg>
        Ø¥ÙŠÙ‚Ø§Ù
      </button>
      <button class="btn btn-red" onclick="deleteSrvPage('${id}')">ğŸ—‘</button>`;
  }

  // Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
  document.getElementById('liveBadge').style.display = srv.status==='running' ? 'inline' : 'none';

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ÙˆØ¬Ø§Øª
  loadTermLogs(id);

  // Ø§Ù„Ù…Ù„ÙØ§Øª
  renderFiles(id);

  // Ø­ÙØ¸ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
  window._currentSrvId = id;
  window._currentSrvUid = sess.username;

  showPage('serverPage');
}

function startFromPage(id) { startSrv(id); }
function stopFromPage(id)  { stopSrv(id); }
function deleteSrvPage(id) { deleteSrv(id); goToDash(); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø§Ù„ØªÙŠØ±Ù…Ù†Ø§Ù„
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadTermLogs(sid) {
  const term = document.getElementById('terminal');
  term.innerHTML = '';
  const logs = getLogs(sid);
  if (logs.length === 0) {
    term.innerHTML = '<span class="log-sys">[Ø§Ù„Ù†Ø¸Ø§Ù…] Ø¬Ø§Ù‡Ø² â€” Ø´ØºÙ‘Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª.</span>\n';
    return;
  }
  logs.forEach(line => appendTermLine(line));
}

function appendTermLine(line) {
  const term = document.getElementById('terminal');
  if (!term) return;
  const span = document.createElement('span');
  if (line.includes('[Ø®Ø·Ø£]') || line.includes('Error') || line.includes('Traceback') || line.includes('âŒ'))
    span.className = 'log-err';
  else if (line.includes('[Ø§Ù„Ù†Ø¸Ø§Ù…]'))
    span.className = 'log-sys';
  else if (line.includes('[ØªØ­Ø°ÙŠØ±]') || line.includes('WARNING') || line.includes('âš '))
    span.className = 'log-warn';
  else if (line.includes('âœ“') || line.includes('ğŸš€') || line.includes('âœ…') || line.includes('[Ù…Ø®Ø±Ø¬Ø§Øª]'))
    span.className = 'log-ok';
  span.textContent = line + '\n';
  term.appendChild(span);
  term.scrollTop = term.scrollHeight;
}

function clearTerminal() {
  if (!window._currentSrvId) return;
  saveLogs(window._currentSrvId, []);
  document.getElementById('terminal').innerHTML = '<span class="log-sys">[Ø§Ù„Ù†Ø¸Ø§Ù…] ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„.</span>\n';
  toast('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„', 'info');
}

function scrollTerm() {
  const t = document.getElementById('terminal');
  t.scrollTop = t.scrollHeight;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ³Ù…ÙŠØ©
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renameServer() {
  const id   = window._currentSrvId;
  const uid  = window._currentSrvUid;
  if (!id||!uid) return;
  const name = document.getElementById('renameInp').value.trim();
  if (!name) return toast('Ø§Ù„Ø§Ø³Ù… Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ÙØ§Ø±ØºØ§Ù‹', 'error');

  const servers = getServers(uid);
  const srv = servers.find(s=>s.id===id);
  if (!srv) return;
  srv.name = name;
  saveServers(uid, servers);
  document.getElementById('serverPageName').textContent = name;
  document.getElementById('termTitle').textContent = `terminal â€” ${name}`;
  toast('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… Ø¨Ù†Ø¬Ø§Ø­!', 'success');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø§Ù„Ù…Ù„ÙØ§Øª
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderFiles(sid) {
  const files = getFiles(sid);
  const list  = document.getElementById('fileList');
  const empty = document.getElementById('emptyFiles');

  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØµÙÙˆÙ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
  list.querySelectorAll('.file-row').forEach(r=>r.remove());

  document.getElementById('fileCountBadge').textContent = `${files.length} Ù…Ù„Ù`;

  if (files.length === 0) {
    empty.style.display = 'block';
    return;
  }
  empty.style.display = 'none';

  files.forEach(f => {
    const row = document.createElement('div');
    row.className = 'file-row';
    row.id = `fr-${f.name.replace(/\./g,'_')}`;
    row.innerHTML = `
      <div>
        <div class="file-name-txt">ğŸ“„ ${f.name}</div>
        <div class="file-size">${formatSize(f.size)}</div>
      </div>
      <div style="display:flex;gap:6px;">
        <button class="btn btn-cyan btn-sm" onclick="viewFileContent('${sid}','${f.name}')">Ø¹Ø±Ø¶</button>
        <button class="btn btn-red btn-sm" onclick="deleteFile('${sid}','${f.name}')">âœ•</button>
      </div>`;
    list.appendChild(row);
  });
}

function formatSize(bytes) {
  if (bytes < 1024) return bytes + ' B';
  if (bytes < 1024*1024) return (bytes/1024).toFixed(1) + ' KB';
  return (bytes/1024/1024).toFixed(1) + ' MB';
}

function uploadFiles(fileList) {
  const sid = window._currentSrvId;
  if (!sid) return;

  const allowed = ['py','txt','json','env','cfg','ini','yaml','yml'];
  Array.from(fileList).forEach(file => {
    const ext = file.name.split('.').pop().toLowerCase();
    if (!allowed.includes(ext)) {
      toast(`Ø§Ù„Ù†ÙˆØ¹ "${ext}" ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡`, 'error');
      return;
    }

    const reader = new FileReader();
    reader.onload = e => {
      const files = getFiles(sid);
      const idx   = files.findIndex(f=>f.name===file.name);
      const entry = { name: file.name, size: file.size, content: e.target.result };
      if (idx>=0) files[idx] = entry; else files.push(entry);
      saveFiles(sid, files);
      toast(`ØªÙ… Ø±ÙØ¹ "${file.name}" âœ“`, 'success');
      addLog(sid, `[Ø§Ù„Ù†Ø¸Ø§Ù…] ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù: ${file.name}`);
      renderFiles(sid);
    };
    reader.readAsText(file);
  });
}

function deleteFile(sid, name) {
  if (!confirm(`Ø­Ø°Ù "${name}"ØŸ`)) return;
  const files = getFiles(sid).filter(f=>f.name!==name);
  saveFiles(sid, files);
  toast(`ØªÙ… Ø­Ø°Ù "${name}"`, 'success');
  renderFiles(sid);
}

function viewFileContent(sid, name) {
  const files = getFiles(sid);
  const f = files.find(x=>x.name===name);
  if (!f) return toast('Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
  document.getElementById('viewerTitle').textContent = `ğŸ“„ ${name}`;
  document.getElementById('fileViewer').textContent  = f.content || '(Ø§Ù„Ù…Ù„Ù ÙØ§Ø±Øº)';
  openModal('viewerModal');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Drag & Drop
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const dz = document.getElementById('dropZone');
dz.addEventListener('dragover',  e => { e.preventDefault(); dz.classList.add('drag'); });
dz.addEventListener('dragleave', () => dz.classList.remove('drag'));
dz.addEventListener('drop', e => {
  e.preventDefault(); dz.classList.remove('drag');
  uploadFiles(e.dataTransfer.files);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ù…ÙØ§ØªÙŠØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.addEventListener('keydown', e => {
  if (e.key === 'Escape')
    document.querySelectorAll('.modal-bg.open').forEach(m=>m.classList.remove('open'));
  if (e.key === 'Enter' && document.getElementById('createModal').classList.contains('open'))
    createServer();
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•